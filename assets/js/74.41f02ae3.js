(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{372:function(t,a,s){"use strict";s.r(a);var e=s(10),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"babel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[t._v("#")]),t._v(" Babel")]),t._v(" "),a("p",[t._v("语法转换，polyfill 实现，源码转化")]),t._v(" "),a("p",[t._v("三个主要的核心包:")]),t._v(" "),a("ol",[a("li",[t._v("@babel/core: babel 主要的核心包")]),t._v(" "),a("li",[t._v("@babel/cli: babel 转化的命令行工具")]),t._v(" "),a("li",[t._v("@babel/preset-env: es6 转化到 es5 的转换规则，可以配置不同的规则")])]),t._v(" "),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),a("p",[t._v("babel 可以配置预设和插件。")]),t._v(" "),a("p",[t._v("执行的顺序：")]),t._v(" "),a("ol",[a("li",[t._v("插件比预设先执行")]),t._v(" "),a("li",[t._v("插件执行顺序是插件数组从前向后执行")]),t._v(" "),a("li",[t._v("预设执行顺序是预设数组从后向前执行")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Babel7，可以通过babel.config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("presets")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 预设，多个插件的合集")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 单个插件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("code",[t._v("babel6 的时代")]),t._v(": preset 可以有 babel-preset-es2015、babel-preset-es2016、babel-preset-latest、babel-preset-stage-0 等。")]),t._v(" "),a("p",[a("code",[t._v("babel7 的时代")]),t._v(": @babel/preset-env 可以替代 vue 项目的所有，如果是 react 项目可能需要@babel/preset-flow,@babel/preset-react,@babel/preset-typescript。")]),t._v(" "),a("p",[a("code",[t._v("polyfill")]),t._v(": 由于 babel 主要进行语法转化，对于一些缺失的 api，则需要通过 polyfill 的方式来引入,polyfill 主要就是为不支持语法的环境提供了一些 api，比如 Promise，Map 等。在 babel 这层主要就是@babel/polyfill 这个 npm 包，包含了 core-js 和 regenerator-runtime 两个包。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 比如在webpack中")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("entry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/polyfill"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./a.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"z.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("目前最新的推荐是直接采用 core-js 与 regenerator-runtime,因为 core-js 可以升级到最新版本,而@babel/polyfill 只有 stable 版本。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 比如在webpack中")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("entry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'core-js/stable'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'regenerator-runtime/runtime'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./a.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"z.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"babel-env-的配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-env-的配置"}},[t._v("#")]),t._v(" @babel/env 的配置")]),t._v(" "),a("p",[t._v("默认写法")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("presets")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("参数配置")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("presets")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("当我们在 package.json 或.browserslistrc 中配置选项 browserslist 时，比如:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("last "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" versions\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("\niOS "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n")])])]),a("p",[t._v("此时 babel 就会读取配置，就会根据对应的版本进行对应的语法转化。")]),t._v(" "),a("h3",{attrs:{id:"其他配置项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他配置项"}},[t._v("#")]),t._v(" 其他配置项：")]),t._v(" "),a("h3",{attrs:{id:"targets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#targets"}},[t._v("#")]),t._v(" targets")]),t._v(" "),a("p",[t._v("这个选项和 browserslist 一样，一般配置 browserslist 即可。")]),t._v(" "),a("h3",{attrs:{id:"usebuiltins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usebuiltins"}},[t._v("#")]),t._v(" useBuiltIns")]),t._v(" "),a("p",[t._v("useBuiltIns 分别为 usage,entry,false(默认),这个选项主要针对的是 polyfill 相关的配置。")]),t._v(" "),a("h4",{attrs:{id:"usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" usage:")]),t._v(" "),a("p",[t._v("需要"),a("code",[t._v("npm install --save @babel/polyfill")]),t._v(", 这样就可以根据目标浏览器的配置自动的去加载对应的缺失 polyfill 代码。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("presets")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("useBuiltIns")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"usage"')]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entry"}},[t._v("#")]),t._v(" entry:")]),t._v(" "),a("p",[t._v("需要"),a("code",[t._v("npm install --save @babel/polyfill")]),t._v(", 同时还需要在入口文件手动引入 "),a("code",[t._v("import '@babel/polyfill'")]),t._v("，这样才可以根据目标浏览器的配置自动的去加载对应的缺失 polyfill 代码。")]),t._v(" "),a("h4",{attrs:{id:"false"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#false"}},[t._v("#")]),t._v(" false:")]),t._v(" "),a("p",[t._v("不会自动按需注入 polyfill 代码")]),t._v(" "),a("h3",{attrs:{id:"corejs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#corejs"}},[t._v("#")]),t._v(" corejs")]),t._v(" "),a("p",[t._v("可以取值 2/3,会获取 core-js 的不同版本,必须安装对应的依赖，某些 api 只有在 3 版本才会有，比如 flat 方法，同时只有在 useBuiltIns 为'usage'或者'entry'时，才会生效。")]),t._v(" "),a("h3",{attrs:{id:"modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#modules"}},[t._v("#")]),t._v(" modules")]),t._v(" "),a("p",[t._v('是否需要把 es6 的模块语法改成其他模块化语法,取值为 amd"、"umd" 、 "systemjs" 、 "commonjs" 、"cjs" 、"auto"(默认值) 、false 。')]),t._v(" "),a("p",[t._v("如果取值为 auto，es6 的 import 等代码会转化为 require，如果为 false，则还是使用 import 来引入模块,这样可以做静态分析，去除无用代码。")]),t._v(" "),a("h2",{attrs:{id:"babel-plugin-transform-runtime-相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-plugin-transform-runtime-相关"}},[t._v("#")]),t._v(" @babel/plugin-transform-runtime 相关")]),t._v(" "),a("p",[t._v('当我们在使用"@babel/env"作为预设 presets 的时候，针对 es6 语法的代码，会在转码后定义辅助函数，比如 function _createClass,但是有个不好的地方就是，每个 js 文件都会注入这个辅助函数，会造成代码的冗余，这个时候@babel/runtime 出现了，它会将所有的转化辅助函数集成到一起，而@babel/plugin-transform-runtime 的作用就是自动的将这些转化后的辅助函数去加载@babel/runtime。')]),t._v(" "),a("p",[t._v("@babel/runtime 和@babel/plugin-transform-runtime 一般都需要同时安装。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/env"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/plugin-transform-runtime"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"配置选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置选项"}},[t._v("#")]),t._v(" 配置选项")]),t._v(" "),a("h4",{attrs:{id:"help"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#help"}},[t._v("#")]),t._v(" help")]),t._v(" "),a("p",[t._v("是否需要引入辅助函数,默认为 true,需要安装@babel/runtime")]),t._v(" "),a("h4",{attrs:{id:"corejs-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#corejs-2"}},[t._v("#")]),t._v(" corejs")]),t._v(" "),a("p",[t._v("可以取 2,3,false。")]),t._v(" "),a("p",[t._v("针对于 core-js 的 api 转换 , 当设置为 3 的时候，需要安装@babel/runtime-corejs3。")]),t._v(" "),a("p",[t._v("当代码用了 core-js 的 api，会自动引入@babel/runtime-corejs3/core-js-stable/,将相关代码自动转换，无需引入 polyfill 以至于影响全局变量,主要针对于库的开发,一般的前端业务无需配置。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/env"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/plugin-transform-runtime"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"corejs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ps: 也支持 corejs-2")]),t._v(" "),a("h4",{attrs:{id:"regenerator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#regenerator"}},[t._v("#")]),t._v(" regenerator")]),t._v(" "),a("p",[t._v("默认为 true，主要针对 Generator/async 的 api 转换。")]),t._v(" "),a("h4",{attrs:{id:"useesmodules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#useesmodules"}},[t._v("#")]),t._v(" useESModules")]),t._v(" "),a("p",[t._v("默认为 false，可以设置为 true 使用 es 模块化，来进行静态分析。")]),t._v(" "),a("h4",{attrs:{id:"absoluteruntime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#absoluteruntime"}},[t._v("#")]),t._v(" absoluteRuntime")]),t._v(" "),a("p",[t._v("@babel/runtime/模块的路径规则,一般无需处理")]),t._v(" "),a("h4",{attrs:{id:"version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version"}},[t._v("#")]),t._v(" version")]),t._v(" "),a("p",[t._v("主要设置@babel/runtime 的版本,一般无需处理")]),t._v(" "),a("h2",{attrs:{id:"一些库介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一些库介绍"}},[t._v("#")]),t._v(" 一些库介绍")]),t._v(" "),a("h3",{attrs:{id:"babel-core-转化核心"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-core-转化核心"}},[t._v("#")]),t._v(" @babel/core 转化核心")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" babel "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/core"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbabel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tresult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => { code, map, ast }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"babel-cli-babel-的命令行工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-cli-babel-的命令行工具"}},[t._v("#")]),t._v(" @babel/cli Babel 的命令行工具")]),t._v(" "),a("p",[t._v("通过 commanderjs 来调用@babel/core")]),t._v(" "),a("h3",{attrs:{id:"babel-standalone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-standalone"}},[t._v("#")]),t._v(" @babel/standalone")]),t._v(" "),a("p",[t._v("自动编译含有 text/babel 或 text/jsx 的 type 值的 script 标签,官网，jsfiddle 等都可以用")]),t._v(" "),a("h3",{attrs:{id:"babel-parser"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-parser"}},[t._v("#")]),t._v(" @babel/parser")]),t._v(" "),a("p",[t._v("对 js 语言的解析,返回 ast")]),t._v(" "),a("h3",{attrs:{id:"babel-traverse"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-traverse"}},[t._v("#")]),t._v(" @babel/traverse")]),t._v(" "),a("p",[t._v("对 ast 遍历")]),t._v(" "),a("h3",{attrs:{id:"babel-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-types"}},[t._v("#")]),t._v(" @babel/types")]),t._v(" "),a("p",[t._v("对 ast 修改")]),t._v(" "),a("h3",{attrs:{id:"babel-generator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-generator"}},[t._v("#")]),t._v(" @babel/generator")]),t._v(" "),a("p",[t._v("对 ast 聚合生成 js 代码")]),t._v(" "),a("h3",{attrs:{id:"babel-polyfill-core-js-和-regenerator-runtime-两个包的结合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-polyfill-core-js-和-regenerator-runtime-两个包的结合"}},[t._v("#")]),t._v(" @babel/polyfill core-js 和 regenerator-runtime 两个包的结合")]),t._v(" "),a("p",[t._v("即将废弃，7.0 后鼓励直接用 core-js 和 regenerator-runtime")]),t._v(" "),a("h3",{attrs:{id:"babel-preset-env"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-preset-env"}},[t._v("#")]),t._v(" @babel/preset-env")]),t._v(" "),a("p",[t._v("编译降级")]),t._v(" "),a("h3",{attrs:{id:"babel-runtime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-runtime"}},[t._v("#")]),t._v(" @babel/runtime")]),t._v(" "),a("p",[t._v("babel 编译时候所用的 helpers 函数")]),t._v(" "),a("h3",{attrs:{id:"babel-plugin-transform-runtime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-plugin-transform-runtime"}},[t._v("#")]),t._v(" @babel/plugin-transform-runtime")]),t._v(" "),a("p",[t._v("重复使用 babel 生成的 help 函数，起到节省大小的作用,还可以避免全局污染作用域")]),t._v(" "),a("h3",{attrs:{id:"babel-plugin-是-babel-插件集合。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-plugin-是-babel-插件集合。"}},[t._v("#")]),t._v(" @babel/plugin 是 Babel 插件集合。")]),t._v(" "),a("h3",{attrs:{id:"babel-plugin-syntax-是-babel-的语法插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-plugin-syntax-是-babel-的语法插件"}},[t._v("#")]),t._v(" @babel/plugin-syntax-* 是 Babel 的语法插件")]),t._v(" "),a("p",[t._v("扩展 @babel/parser 的一些能力")]),t._v(" "),a("h3",{attrs:{id:"babel-plugin-transform-是-babel-的转换插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-plugin-transform-是-babel-的转换插件"}},[t._v("#")]),t._v(" @babel/plugin-transform-* 是 Babel 的转换插件")]),t._v(" "),a("h3",{attrs:{id:"babel-template-封装了基于-ast-的模板能力"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-template-封装了基于-ast-的模板能力"}},[t._v("#")]),t._v(" @babel/template 封装了基于 AST 的模板能力")]),t._v(" "),a("h3",{attrs:{id:"babel-node-和-babel-register"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-node-和-babel-register"}},[t._v("#")]),t._v(" @babel/node 和@babel/register")]),t._v(" "),a("p",[t._v("运行时编译")])])}),[],!1,null,null,null);a.default=r.exports}}]);