<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Babel | 总结</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.10.0/styles/monokai-sublime.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/github-markdown-css/2.9.0/github-markdown.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css">
    <script src="//cdn.bootcss.com/ace/1.3.3/ace.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=default"></script>
    <meta name="description" content="前端总结">
    
    <link rel="preload" href="/assets/css/0.styles.9bdba38b.css" as="style"><link rel="preload" href="/assets/js/app.e6fff1ef.js" as="script"><link rel="preload" href="/assets/js/2.c89a1be6.js" as="script"><link rel="preload" href="/assets/js/1.f08d8127.js" as="script"><link rel="preload" href="/assets/js/74.41f02ae3.js" as="script"><link rel="prefetch" href="/assets/js/10.2e4bc1e7.js"><link rel="prefetch" href="/assets/js/100.8b63e916.js"><link rel="prefetch" href="/assets/js/101.f6d5eff1.js"><link rel="prefetch" href="/assets/js/102.9ab3f8b0.js"><link rel="prefetch" href="/assets/js/103.af218052.js"><link rel="prefetch" href="/assets/js/104.d7dfc521.js"><link rel="prefetch" href="/assets/js/105.4610fd83.js"><link rel="prefetch" href="/assets/js/106.8a44e851.js"><link rel="prefetch" href="/assets/js/107.7e4bca3f.js"><link rel="prefetch" href="/assets/js/108.8c85ae89.js"><link rel="prefetch" href="/assets/js/109.9de6d07f.js"><link rel="prefetch" href="/assets/js/11.5384b140.js"><link rel="prefetch" href="/assets/js/110.96d23754.js"><link rel="prefetch" href="/assets/js/111.7a2bfee2.js"><link rel="prefetch" href="/assets/js/112.e7a9487a.js"><link rel="prefetch" href="/assets/js/113.263468d2.js"><link rel="prefetch" href="/assets/js/114.eced8df8.js"><link rel="prefetch" href="/assets/js/115.2f20aa85.js"><link rel="prefetch" href="/assets/js/12.c8691c9b.js"><link rel="prefetch" href="/assets/js/13.8a85afa6.js"><link rel="prefetch" href="/assets/js/14.c60b02ec.js"><link rel="prefetch" href="/assets/js/15.d6431719.js"><link rel="prefetch" href="/assets/js/16.344ff5e6.js"><link rel="prefetch" href="/assets/js/17.8dd2e427.js"><link rel="prefetch" href="/assets/js/18.02f7391a.js"><link rel="prefetch" href="/assets/js/19.45ab1a6d.js"><link rel="prefetch" href="/assets/js/20.bdbd260c.js"><link rel="prefetch" href="/assets/js/21.814c6fa6.js"><link rel="prefetch" href="/assets/js/22.3baba8f6.js"><link rel="prefetch" href="/assets/js/23.77d48783.js"><link rel="prefetch" href="/assets/js/24.39298b94.js"><link rel="prefetch" href="/assets/js/25.c2361335.js"><link rel="prefetch" href="/assets/js/26.e69dc1c4.js"><link rel="prefetch" href="/assets/js/27.4f80f343.js"><link rel="prefetch" href="/assets/js/28.3ce358e7.js"><link rel="prefetch" href="/assets/js/29.29ea6c10.js"><link rel="prefetch" href="/assets/js/3.4a44afe3.js"><link rel="prefetch" href="/assets/js/30.ecc277f0.js"><link rel="prefetch" href="/assets/js/31.dce180b1.js"><link rel="prefetch" href="/assets/js/32.c9d98a70.js"><link rel="prefetch" href="/assets/js/33.b154a82a.js"><link rel="prefetch" href="/assets/js/34.1e27b412.js"><link rel="prefetch" href="/assets/js/35.ccb19b67.js"><link rel="prefetch" href="/assets/js/36.71c5b729.js"><link rel="prefetch" href="/assets/js/37.48502ea1.js"><link rel="prefetch" href="/assets/js/38.1025f787.js"><link rel="prefetch" href="/assets/js/39.9f633672.js"><link rel="prefetch" href="/assets/js/4.d91e2a54.js"><link rel="prefetch" href="/assets/js/40.51f250f6.js"><link rel="prefetch" href="/assets/js/41.691adf38.js"><link rel="prefetch" href="/assets/js/42.07eab90e.js"><link rel="prefetch" href="/assets/js/43.772c0f25.js"><link rel="prefetch" href="/assets/js/44.de1298a4.js"><link rel="prefetch" href="/assets/js/45.feb9d736.js"><link rel="prefetch" href="/assets/js/46.cdb75989.js"><link rel="prefetch" href="/assets/js/47.f72df5b3.js"><link rel="prefetch" href="/assets/js/48.8b70a226.js"><link rel="prefetch" href="/assets/js/49.5d2c0200.js"><link rel="prefetch" href="/assets/js/5.8dcd1f8f.js"><link rel="prefetch" href="/assets/js/50.8a26fd6f.js"><link rel="prefetch" href="/assets/js/51.a614a1bb.js"><link rel="prefetch" href="/assets/js/52.b3d21eea.js"><link rel="prefetch" href="/assets/js/53.618a7916.js"><link rel="prefetch" href="/assets/js/54.59406918.js"><link rel="prefetch" href="/assets/js/55.2c02f3a8.js"><link rel="prefetch" href="/assets/js/56.9534a573.js"><link rel="prefetch" href="/assets/js/57.5fe10564.js"><link rel="prefetch" href="/assets/js/58.33dabce7.js"><link rel="prefetch" href="/assets/js/59.717da3d2.js"><link rel="prefetch" href="/assets/js/6.4b73bb31.js"><link rel="prefetch" href="/assets/js/60.3989838e.js"><link rel="prefetch" href="/assets/js/61.16ab584f.js"><link rel="prefetch" href="/assets/js/62.92f859fb.js"><link rel="prefetch" href="/assets/js/63.90cfd883.js"><link rel="prefetch" href="/assets/js/64.8f3bbf63.js"><link rel="prefetch" href="/assets/js/65.b6223542.js"><link rel="prefetch" href="/assets/js/66.e7fa6a54.js"><link rel="prefetch" href="/assets/js/67.baccd837.js"><link rel="prefetch" href="/assets/js/68.a8b6a4bd.js"><link rel="prefetch" href="/assets/js/69.db67ad7b.js"><link rel="prefetch" href="/assets/js/7.c934174c.js"><link rel="prefetch" href="/assets/js/70.208ab3c2.js"><link rel="prefetch" href="/assets/js/71.8212dfcb.js"><link rel="prefetch" href="/assets/js/72.8bb63684.js"><link rel="prefetch" href="/assets/js/73.a681d42a.js"><link rel="prefetch" href="/assets/js/75.0c29b574.js"><link rel="prefetch" href="/assets/js/76.b2bb0343.js"><link rel="prefetch" href="/assets/js/77.25de8167.js"><link rel="prefetch" href="/assets/js/78.9405b4c9.js"><link rel="prefetch" href="/assets/js/79.d430a3a1.js"><link rel="prefetch" href="/assets/js/80.da8b8316.js"><link rel="prefetch" href="/assets/js/81.a8ef0056.js"><link rel="prefetch" href="/assets/js/82.53493829.js"><link rel="prefetch" href="/assets/js/83.5c828e18.js"><link rel="prefetch" href="/assets/js/84.d717a61c.js"><link rel="prefetch" href="/assets/js/85.6cb3f209.js"><link rel="prefetch" href="/assets/js/86.634db20d.js"><link rel="prefetch" href="/assets/js/87.9a9c281c.js"><link rel="prefetch" href="/assets/js/88.3e71673f.js"><link rel="prefetch" href="/assets/js/89.ab95b51f.js"><link rel="prefetch" href="/assets/js/90.b6832bd7.js"><link rel="prefetch" href="/assets/js/91.270d1704.js"><link rel="prefetch" href="/assets/js/92.97e20606.js"><link rel="prefetch" href="/assets/js/93.5c70cb52.js"><link rel="prefetch" href="/assets/js/94.ac6db360.js"><link rel="prefetch" href="/assets/js/95.dd4c86f9.js"><link rel="prefetch" href="/assets/js/96.c4edd584.js"><link rel="prefetch" href="/assets/js/97.e27eec26.js"><link rel="prefetch" href="/assets/js/98.b27047fc.js"><link rel="prefetch" href="/assets/js/99.3d766fb1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.857e8e87.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9bdba38b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">总结</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/es/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/html/" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/framework/" class="nav-link">
  框架
</a></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试总结
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码学习" class="dropdown-title"><span class="title">源码学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="源码学习" class="mobile-dropdown-title"><span class="title">源码学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/source/vue/" class="nav-link">
  Vue2源码
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/es/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/html/" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/framework/" class="nav-link">
  框架
</a></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试总结
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码学习" class="dropdown-title"><span class="title">源码学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="源码学习" class="mobile-dropdown-title"><span class="title">源码学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/source/vue/" class="nav-link">
  Vue2源码
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="babel"><a href="#babel" class="header-anchor">#</a> Babel</h2> <p>语法转换，polyfill 实现，源码转化</p> <p>三个主要的核心包:</p> <ol><li>@babel/core: babel 主要的核心包</li> <li>@babel/cli: babel 转化的命令行工具</li> <li>@babel/preset-env: es6 转化到 es5 的转换规则，可以配置不同的规则</li></ol> <h2 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h2> <p>babel 可以配置预设和插件。</p> <p>执行的顺序：</p> <ol><li>插件比预设先执行</li> <li>插件执行顺序是插件数组从前向后执行</li> <li>预设执行顺序是预设数组从后向前执行</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Babel7，可以通过babel.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 预设，多个插件的合集</span>
	<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 单个插件</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><code>babel6 的时代</code>: preset 可以有 babel-preset-es2015、babel-preset-es2016、babel-preset-latest、babel-preset-stage-0 等。</p> <p><code>babel7 的时代</code>: @babel/preset-env 可以替代 vue 项目的所有，如果是 react 项目可能需要@babel/preset-flow,@babel/preset-react,@babel/preset-typescript。</p> <p><code>polyfill</code>: 由于 babel 主要进行语法转化，对于一些缺失的 api，则需要通过 polyfill 的方式来引入,polyfill 主要就是为不支持语法的环境提供了一些 api，比如 Promise，Map 等。在 babel 这层主要就是@babel/polyfill 这个 npm 包，包含了 core-js 和 regenerator-runtime 两个包。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 比如在webpack中</span>
	<span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/polyfill&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./a.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;z.js&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>目前最新的推荐是直接采用 core-js 与 regenerator-runtime,因为 core-js 可以升级到最新版本,而@babel/polyfill 只有 stable 版本。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 比如在webpack中</span>
	<span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'core-js/stable'</span><span class="token punctuation">,</span> <span class="token string">'regenerator-runtime/runtime'</span><span class="token punctuation">,</span> <span class="token string">&quot;./a.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;z.js&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="babel-env-的配置"><a href="#babel-env-的配置" class="header-anchor">#</a> @babel/env 的配置</h2> <p>默认写法</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>参数配置</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;@babel/env&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>当我们在 package.json 或.browserslistrc 中配置选项 browserslist 时，比如:</p> <div class="language-js extra-class"><pre class="language-js"><code>last <span class="token number">20</span> versions
<span class="token constant">IE</span> <span class="token number">9</span>
iOS <span class="token operator">&gt;=</span> <span class="token number">8</span>
</code></pre></div><p>此时 babel 就会读取配置，就会根据对应的版本进行对应的语法转化。</p> <h3 id="其他配置项"><a href="#其他配置项" class="header-anchor">#</a> 其他配置项：</h3> <h3 id="targets"><a href="#targets" class="header-anchor">#</a> targets</h3> <p>这个选项和 browserslist 一样，一般配置 browserslist 即可。</p> <h3 id="usebuiltins"><a href="#usebuiltins" class="header-anchor">#</a> useBuiltIns</h3> <p>useBuiltIns 分别为 usage,entry,false(默认),这个选项主要针对的是 polyfill 相关的配置。</p> <h4 id="usage"><a href="#usage" class="header-anchor">#</a> usage:</h4> <p>需要<code>npm install --save @babel/polyfill</code>, 这样就可以根据目标浏览器的配置自动的去加载对应的缺失 polyfill 代码。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">[</span>
			<span class="token string">&quot;@babel/env&quot;</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="entry"><a href="#entry" class="header-anchor">#</a> entry:</h4> <p>需要<code>npm install --save @babel/polyfill</code>, 同时还需要在入口文件手动引入 <code>import '@babel/polyfill'</code>，这样才可以根据目标浏览器的配置自动的去加载对应的缺失 polyfill 代码。</p> <h4 id="false"><a href="#false" class="header-anchor">#</a> false:</h4> <p>不会自动按需注入 polyfill 代码</p> <h3 id="corejs"><a href="#corejs" class="header-anchor">#</a> corejs</h3> <p>可以取值 2/3,会获取 core-js 的不同版本,必须安装对应的依赖，某些 api 只有在 3 版本才会有，比如 flat 方法，同时只有在 useBuiltIns 为'usage'或者'entry'时，才会生效。</p> <h3 id="modules"><a href="#modules" class="header-anchor">#</a> modules</h3> <p>是否需要把 es6 的模块语法改成其他模块化语法,取值为 amd&quot;、&quot;umd&quot; 、 &quot;systemjs&quot; 、 &quot;commonjs&quot; 、&quot;cjs&quot; 、&quot;auto&quot;(默认值) 、false 。</p> <p>如果取值为 auto，es6 的 import 等代码会转化为 require，如果为 false，则还是使用 import 来引入模块,这样可以做静态分析，去除无用代码。</p> <h2 id="babel-plugin-transform-runtime-相关"><a href="#babel-plugin-transform-runtime-相关" class="header-anchor">#</a> @babel/plugin-transform-runtime 相关</h2> <p>当我们在使用&quot;@babel/env&quot;作为预设 presets 的时候，针对 es6 语法的代码，会在转码后定义辅助函数，比如 function _createClass,但是有个不好的地方就是，每个 js 文件都会注入这个辅助函数，会造成代码的冗余，这个时候@babel/runtime 出现了，它会将所有的转化辅助函数集成到一起，而@babel/plugin-transform-runtime 的作用就是自动的将这些转化后的辅助函数去加载@babel/runtime。</p> <p>@babel/runtime 和@babel/plugin-transform-runtime 一般都需要同时安装。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;@babel/env&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="配置选项"><a href="#配置选项" class="header-anchor">#</a> 配置选项</h3> <h4 id="help"><a href="#help" class="header-anchor">#</a> help</h4> <p>是否需要引入辅助函数,默认为 true,需要安装@babel/runtime</p> <h4 id="corejs-2"><a href="#corejs-2" class="header-anchor">#</a> corejs</h4> <p>可以取 2,3,false。</p> <p>针对于 core-js 的 api 转换 , 当设置为 3 的时候，需要安装@babel/runtime-corejs3。</p> <p>当代码用了 core-js 的 api，会自动引入@babel/runtime-corejs3/core-js-stable/,将相关代码自动转换，无需引入 polyfill 以至于影响全局变量,主要针对于库的开发,一般的前端业务无需配置。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;@babel/env&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;corejs&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ps: 也支持 corejs-2</p> <h4 id="regenerator"><a href="#regenerator" class="header-anchor">#</a> regenerator</h4> <p>默认为 true，主要针对 Generator/async 的 api 转换。</p> <h4 id="useesmodules"><a href="#useesmodules" class="header-anchor">#</a> useESModules</h4> <p>默认为 false，可以设置为 true 使用 es 模块化，来进行静态分析。</p> <h4 id="absoluteruntime"><a href="#absoluteruntime" class="header-anchor">#</a> absoluteRuntime</h4> <p>@babel/runtime/模块的路径规则,一般无需处理</p> <h4 id="version"><a href="#version" class="header-anchor">#</a> version</h4> <p>主要设置@babel/runtime 的版本,一般无需处理</p> <h2 id="一些库介绍"><a href="#一些库介绍" class="header-anchor">#</a> 一些库介绍</h2> <h3 id="babel-core-转化核心"><a href="#babel-core-转化核心" class="header-anchor">#</a> @babel/core 转化核心</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@babel/core&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
babel<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> options<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	result<span class="token punctuation">;</span> <span class="token comment">// =&gt; { code, map, ast }</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="babel-cli-babel-的命令行工具"><a href="#babel-cli-babel-的命令行工具" class="header-anchor">#</a> @babel/cli Babel 的命令行工具</h3> <p>通过 commanderjs 来调用@babel/core</p> <h3 id="babel-standalone"><a href="#babel-standalone" class="header-anchor">#</a> @babel/standalone</h3> <p>自动编译含有 text/babel 或 text/jsx 的 type 值的 script 标签,官网，jsfiddle 等都可以用</p> <h3 id="babel-parser"><a href="#babel-parser" class="header-anchor">#</a> @babel/parser</h3> <p>对 js 语言的解析,返回 ast</p> <h3 id="babel-traverse"><a href="#babel-traverse" class="header-anchor">#</a> @babel/traverse</h3> <p>对 ast 遍历</p> <h3 id="babel-types"><a href="#babel-types" class="header-anchor">#</a> @babel/types</h3> <p>对 ast 修改</p> <h3 id="babel-generator"><a href="#babel-generator" class="header-anchor">#</a> @babel/generator</h3> <p>对 ast 聚合生成 js 代码</p> <h3 id="babel-polyfill-core-js-和-regenerator-runtime-两个包的结合"><a href="#babel-polyfill-core-js-和-regenerator-runtime-两个包的结合" class="header-anchor">#</a> @babel/polyfill core-js 和 regenerator-runtime 两个包的结合</h3> <p>即将废弃，7.0 后鼓励直接用 core-js 和 regenerator-runtime</p> <h3 id="babel-preset-env"><a href="#babel-preset-env" class="header-anchor">#</a> @babel/preset-env</h3> <p>编译降级</p> <h3 id="babel-runtime"><a href="#babel-runtime" class="header-anchor">#</a> @babel/runtime</h3> <p>babel 编译时候所用的 helpers 函数</p> <h3 id="babel-plugin-transform-runtime"><a href="#babel-plugin-transform-runtime" class="header-anchor">#</a> @babel/plugin-transform-runtime</h3> <p>重复使用 babel 生成的 help 函数，起到节省大小的作用,还可以避免全局污染作用域</p> <h3 id="babel-plugin-是-babel-插件集合。"><a href="#babel-plugin-是-babel-插件集合。" class="header-anchor">#</a> @babel/plugin 是 Babel 插件集合。</h3> <h3 id="babel-plugin-syntax-是-babel-的语法插件"><a href="#babel-plugin-syntax-是-babel-的语法插件" class="header-anchor">#</a> @babel/plugin-syntax-* 是 Babel 的语法插件</h3> <p>扩展 @babel/parser 的一些能力</p> <h3 id="babel-plugin-transform-是-babel-的转换插件"><a href="#babel-plugin-transform-是-babel-的转换插件" class="header-anchor">#</a> @babel/plugin-transform-* 是 Babel 的转换插件</h3> <h3 id="babel-template-封装了基于-ast-的模板能力"><a href="#babel-template-封装了基于-ast-的模板能力" class="header-anchor">#</a> @babel/template 封装了基于 AST 的模板能力</h3> <h3 id="babel-node-和-babel-register"><a href="#babel-node-和-babel-register" class="header-anchor">#</a> @babel/node 和@babel/register</h3> <p>运行时编译</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e6fff1ef.js" defer></script><script src="/assets/js/2.c89a1be6.js" defer></script><script src="/assets/js/1.f08d8127.js" defer></script><script src="/assets/js/74.41f02ae3.js" defer></script>
  </body>
</html>
